@app.route('/enroll', methods=['GET', 'POST'])
def enroll():
    if request.method == 'GET':
        # Retrieve all enrollments from the database
        enrollments = Enrollment.query.all()

        # Create a list to store the enrollment data
        enrollment_data = []

        # Iterate over each enrollment and extract the required data
        for enrollment in enrollments:
            enrollment_info = {
                'full_name': enrollment.full_name,
                'contact': enrollment.contact,
                'course': enrollment.course,
                'course_id': enrollment.course_id,
                'date': enrollment.date
            }
            enrollment_data.append(enrollment_info)

        # Return the enrollment data as JSON
        return jsonify(enrollment_data)

    if request.method == 'POST':
        data = request.json
        full_name = data['full_name']
        contact = data['contact']
        course = data['course']
        course_id = data['course_id']
        date = data['date']

        enrollment = Enrollment(
            full_name=full_name,
            contact=contact,
            course=course,
            course_id=course_id,
            date=date
        )

        # Add the record to the database
        db.session.add(enrollment)
        db.session.commit()

        return jsonify({'message': 'Enrollment successful'})